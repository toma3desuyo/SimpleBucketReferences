# AiCreatedReferences/abstract 仕様書

## 目的
MDN の JavaScript リファレンスに倣いながら、特定言語に依存しない汎用プログラミング概念のリファレンスを生成するための下準備をまとめる。ここで定義するディレクトリ構成と記述フォーマットに従って各トピックの Markdown を後続フェーズで実装する。

## ディレクトリ構成ポリシー
- ベースパス: `scripts/.external/AiCreatedReferences/abstract/`
- 各トピックごとに **kebab-case の ASCII スラッグ** でサブディレクトリを作成し、その直下に `index.md` を置く。
- 追加のメディアが必要な場合は同ディレクトリ内に `assets/` を作り、相対パスで参照する。
- 新規ドキュメント作成時は既存ディレクトリの重複を避けること（1トピック=1ディレクトリ）。

## 記述フォーマット（共通）
各 `index.md` は以下のセクション順を原則とする。MDN の「概要→文法→解説→例→注意点→関連情報」の流れを踏襲するが、特定言語の構文は避け、疑似コードを用いる。

1. タイトル（見出し H1）: 日本語のトピック名を記載。
2. **概要**: 2〜4 文で役割と利用シーンを説明。
3. **概念と用語**: 用語の定義や前提知識を箇条書きで整理。
4. **一般的な構文/形**: 言語非依存の疑似コードで典型形を示す。
5. **代表的なユースケース**: 2〜3 個の小見出しと短い例を提示。
6. **疑似コード例**: 読みやすい擬似言語で 1〜3 例。入力→処理→出力の流れが分かるようにする。
7. **エラー/例外・境界条件**: 失敗ケース、未定義動作、注意点をまとめる。
8. **ベストプラクティス**: 簡潔な箇条書きで 3〜6 項目。
9. **関連トピック**: 本仕様の別ディレクトリ名を列挙して相互リンクを明示。
10. **用語集**: 本ページ内で使う専門語を短文で再掲。

### 記述ルール
- 文字数目安: 700〜1200 字程度。過度に長文化しない。
- 具体例は必ず疑似コードで記述し、特定言語のキーワード・標準ライブラリ名は避ける。
- Optional / Null に相当する概念を扱う場合は、なぜ未指定が起こり得るかをコメントし、分岐理由を明示する。
- 複数行文字列は三重バッククォートを使用し、分割禁止。
- 同一トピック内で用語を統一し、略語を導入しない。

### 疑似コードスタイルガイド
- 変数・関数は `snake_case`、型名・抽象概念は `TitleCase` を推奨。
- 制御構造は英単語を用いる（例: `if`, `for each`, `while`, `function`）。
- コメントは `//` を使用し、日本語で簡潔に目的を書く。

#### 疑似コードスニペット例
```pseudo
function replace_text(source, target, replacement):
  // target が見つからない場合は例外を送出する
  if not contains(source, target):
    raise Error("target not found")

  return concatenate(prefix_before(source, target), replacement, suffix_after(source, target))
```

## トピック一覧とディレクトリスラッグ
以下の 55 トピックを対象にディレクトリを作成する。スラッグは ASCII の kebab-case とし、`index.md` を配置する。

| トピック | ディレクトリ名（スラッグ） | 期待する主な内容の焦点 |
| --- | --- | --- |
| 文字列の置換 | string-replacement | 部分文字列の探索と差し替え、境界条件（未検出時）、全置換/単一置換の扱い。
| リストのソート | list-sorting | 安定/不安定ソート、比較関数、計算量、破壊的・非破壊的差異。
| 反復処理 | iteration | 繰り返し構造の種類（counted/condition/collection）、停止条件と副作用の扱い。
| 加算演算子 | addition-operator | 数値加算とオーバーフロー、結合性、型変換の注意。
| クラス | class | 抽象化とカプセル化、フィールド/メソッド、可視性と初期化契約。
| 要素数の取得 | length-retrieval | コレクションのサイズ計測、計算コスト、遅延評価コレクションの注意点。
| カプセル化 | encapsulation | 情報隠蔽、インターフェース越しの操作、アクセサの設計指針。
| キーの存在確認 | key-existence | 連想配列/マップでの存在チェック、真偽判定の落とし穴（値が偽の場合）。
| キーの一覧取得 | key-enumeration | マップのキー列挙、順序保証の有無、反復中変更の注意。
| 無名関数 | anonymous-function | 一時的関数値、クロージャ、スコープキャプチャの副作用。
| 反復フロー制御 | iteration-flow-control | break/continue/early return の設計と可読性、ネスト回避手法。
| 値の一覧取得 | value-enumeration | マップの値列挙、コピーか参照か、変更が反映されるか。
| 自分自身の参照 | self-reference | インスタンス自身/再帰での self 参照、循環参照への注意。
| 継承 | inheritance | 単一/多重継承、メソッド解決順序、オーバーライド契約。
| 外部通信 | external-communication | ネットワーク/IPC 呼び出しの抽象化、タイムアウトとリトライ設計。
| リスト内の単一検索 | list-single-search | 最初の一致取得、線形/二分探索、見つからない場合の扱い。
| リスト | list | 可変シーケンスの基本操作、順序保証、インデックスアクセス。
| 文字列の分割 | string-splitting | 区切り基準、最大分割数、空要素の扱い。
| リストの部分抽出 | list-slicing | 範囲指定、境界超過時の挙動、コピー/ビューの違い。
| 「ない」状態の型 | none-like-type | Null/None/Option の設計意図、未指定を表す正当な理由の明記。
| 真偽値型 | boolean-type | 真偽値の表現、真理値表、三値論理への注意。
| リストの一括変換 | list-map | マッピング処理、副作用の禁止、例外伝播方針。
| 非同期処理 | async-processing | 非同期タスクモデル、状態遷移、キャンセルとエラー伝播。
| 引数の既定値 | default-arguments | デフォルト値の評価タイミング、可変オブジェクトを避ける理由。
| 論理否定演算子 | logical-not | 真偽反転、短絡評価との違い、三値論理での扱い。
| 変数 / 関数の宣言 | declaration | スコープとライフタイム、再宣言可否、初期化順序。
| プロパティの定義 | property-definition | フィールド/アクセサの定義、可視性、イミュータブル設計。
| 乗算演算子 | multiplication-operator | 数値乗算、オーバーフロー、単位と型の整合。
| 減算演算子 | subtraction-operator | 差分計算、符号と順序、アンダーフロー。
| リストへの存在確認 | list-membership | 要素の包含チェック、線形/探索構造の計算量。
| 文字列の探索 | string-search | 部分文字列検索、インデックス/ブール返却、ケース感度。
| 正規表現 | regular-expression | パターン構築、グローバル/部分一致、バックトラッキング注意。
| コールバック関数 | callback-function | 呼び出し契約、非同期/同期、例外処理とタイムアウト。
| 連想配列 | associative-array | キー→値構造、ハッシュ/木ベースの違い、順序保証。
| 文字列型 | string-type | イミュータブル性、符号化、コードポイントと長さの違い。
| 変数の有効範囲 | variable-scope | 静的/動的スコープ、ブロック/関数/モジュール範囲。
| 文字列の結合 | string-concatenation | 連結コスト、バッファリング、テンプレート利用。
| 数値型 | number-type | 整数/浮動小数、範囲と丸め、特別な値（NaN 等）。
| べき乗演算子 | exponentiation-operator | べき乗計算、指数の境界、累乗と冪等の違い。
| 関数 | function | 入出力契約、純粋関数と副作用関数、再帰。
| インスタンスの生成 | instance-creation | コンストラクションフロー、メモリ確保、依存注入。
| 条件分岐 | conditional-branching | if/else/switch 相当、条件評価順序と副作用の排除。
| 連想配列の要素削除 | associative-array-deletion | キー削除の結果、存在しない場合の扱い、一貫性。
| インスタンスの初期化処理 | instance-initialization | 初期化シーケンス、必須フィールド、例外時の後始末。
| 比較演算子 | comparison-operators | 大小比較と等価比較、全順序/半順序、型混在の扱い。
| 親クラスの参照 | parent-class-reference | スーパー呼び出しの意義、初期化順序、オーバーライド拡張。
| リストへの条件フィルター | list-filter | 条件による抽出、安定性、副作用禁止。
| リストの結合(文字列化) | list-join | 区切り文字での連結、空要素、非文字列要素の扱い。
| 末尾の要素追加 / 削除 | list-push-pop | スタック的操作、空リスト時の挙動、計算量。
| 例外処理 | exception-handling | 例外の伝播/捕捉/再送出、リソース解放、補償動作。
| リストの全走査 | list-traversal | 全要素への順次処理、反復中の変更の扱い。
| 可変長引数 | variadic-arguments | 可変長の受け取り方、配列化、既定値との組合せ。
| 全ペアの取得 | pair-enumeration | キーと値のペア列挙、順序保証、破壊的変更の注意。
| 等価演算子 | equality-operators | 値比較/同一性比較、厳密/緩やかな等価、カスタム比較。
| 除算演算子 | division-operator | 整数/浮動小数の除算、ゼロ除算、丸め誤差。
| 非同期の待機 | async-wait | Promise/Future 相当の待機、タイムアウトとキャンセル。
| 剰余演算子 | remainder-operator | 商と余りの定義、負数の扱い、用途例。
| 変数の埋め込み | string-interpolation | テンプレートへの値埋め込み、エスケープ、型変換。
| 静的メンバ | static-members | クラス共有データ、初期化タイミング、スレッド安全性。
| 先頭の要素追加 / 削除 | list-shift-unshift | キュー的操作、再配置コスト、空リスト時の扱い。

## サンプルページ骨子（`index.md` テンプレート）
以下は各トピックで流用可能な最小テンプレート。実装時に内容を埋めること。

```markdown
# <日本語タイトル>

## 概要
<2〜4文で要約>

## 概念と用語
- 用語A: 説明
- 用語B: 説明

## 一般的な構文/形
```pseudo
// 必要に応じて置換
<疑似コード>
```

## 代表的なユースケース
### ケース1: <短い説明>
- ポイント
- 副作用や制約

### ケース2: <短い説明>
- ポイント

## 疑似コード例
```pseudo
<入力→処理→出力が分かる例>
```

## エラー/例外・境界条件
- 想定外入力時の振る舞い
- 未初期化・未設定・None 相当時の扱い（必要なら理由コメント）

## ベストプラクティス
- 箇条書きで 3〜6 項目

## 関連トピック
- `<スラッグ>` / `<スラッグ>` ...

## 用語集
- 用語A: 再掲
```

## 作業フロー（本仕様後の実装手順）
1. 上記スラッグでディレクトリを作成し、`index.md` を本テンプレートに従って記述する。
2. 各ページで参照する関連トピックはスラッグ名で明記し、相互リンクを保つ。
3. 仕様上の変更やテンプレート改訂が発生した場合は、この `README.md` を直接更新し、バージョン付きファイルを増やさない。

## 禁則事項
- バージョン番号付きファイル名の作成禁止（例: `string-replacement-v2.md`）。
- トピック重複の新規ディレクトリ禁止。既存ページを更新すること。
- 言語依存のサンプルや特定ライブラリ名の持ち込み禁止。疑似コードで表現する。
```
