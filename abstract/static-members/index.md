---
title: 静的メンバ
description: クラス全体で共有されるプロパティやメソッド
---

## 概要
静的メンバーはクラスのインスタンスではなくクラス自体に属するフィールドやメソッドである。ユーティリティや設定値、カウンターなど、インスタンス間で共有すべき情報を表す。

## 特徴
- **アクセス方法**: `クラス名.メンバー` で参照し、インスタンスから直接はアクセスできないのが一般的。
- **初期化順序**: クラス読み込み時に評価される。静的初期化ブロックが提供される言語もある。
- **継承**: 子クラスが静的メンバーを継承するか再定義するか仕様で確認する。

## 基本例
```pseudo
クラス ID発行機:
    static 次 = 1

    static メソッド 発行():
        id = ID発行機.次
        ID発行機.次 += 1
        return id
```
- グローバル状態をクラス内に閉じ込め、アクセスを統制している。

## 応用パターン
### ファクトリーメソッド
```pseudo
クラス ユーザー:
    static メソッド 既定():
        return 新しい ユーザー(id: 0, 権限: "guest")
```
- インスタンス生成ロジックを静的メソッドに置くことで呼び出しが簡潔になる。

### 静的プロパティの計算
```pseudo
クラス 設定:
    static メソッド 読み込み():
        設定.キャッシュ = ファイルから読む()
```
- 静的フィールドを遅延初期化し、再計算コストを抑える。

## 注意点
1. **グローバル状態化**: 静的メンバーを多用するとテストが難しくなる。依存注入を検討する。
2. **スレッド安全性**: 共有状態を更新する場合は排他制御が必要。
3. **初期化順序の罠**: 静的フィールド同士が相互依存すると未初期化参照が起きる。初期化ブロックで順序を管理する。

## 関連トピック
- `abstract/class/index.md`: クラス
- `abstract/self-reference/index.md`: インスタンス参照との違い
- `abstract/instance-creation/index.md`: インスタンス生成との関係
