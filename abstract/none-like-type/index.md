---
title: 「ない」状態の型
description: 値が存在しないことを表す特殊値
---

## 概要
None や null、nil といった値は「値が存在しない」「まだ設定されていない」状態を表す。エラーや空集合とは異なる概念として扱う必要がある。

## 特徴
- **唯一性**: 通常 1 つの値のみが該当し、自己比較は真になる。
- **真偽値**: 条件式では偽と評価されることが多い。
- **型安全性**: Null 参照例外を避けるため、オプショナル型で明確に表す言語もある。

## 基本例
```pseudo
結果 = データベース.取得(キー)
もし 結果 == None なら:
    既定値を返す
```
- 未取得と空文字列の違いを区別するために None を利用する。

## 応用パターン
### オプショナル型
```pseudo
値: Maybe<文字列> = None
値 = Some("hello")
```
- Some/None の 2 形で存在と不在を型で表す。パターンマッチで取り出す。

### センチネル値
```pseudo
未指定 = 新しいセンチネル()
関数 設定(value = 未指定):
    もし value == 未指定 なら 現状維持
```
- `null` が有効値の場合に「未指定」を区別するため専用オブジェクトを作る。

## 注意点
1. **Null チェック漏れ**: None を扱う API では常に存在チェックを行う。静的解析で検出する。
2. **比較の混乱**: `0` や空コレクションと None を混同しない。ログや例外に含めて区別する。
3. **シリアライズ**: JSON では `null` になるが、受信側が値未設定と解釈するかを確認する。

## 関連トピック
- `abstract/default-arguments/index.md`: 未指定引数
- `abstract/exception-handling/index.md`: 例外との比較
- `abstract/boolean-type/index.md`: 真偽値との関係
