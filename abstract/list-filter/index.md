---
title: リストへの条件フィルター
description: 条件に合う要素だけを抽出する方法
---

## 概要
リストのフィルターは、特定条件を満たす要素だけを残し、新しいリストを生成する操作である。副作用を伴わない純粋なフィルターと、元のリストを破壊的に変更するフィルターがある。

## 基本フロー
```pseudo
入力 = [1, 2, 3, 4]
出力 = フィルター(入力, 条件: 無名関数(値): 値 % 2 == 0)
# 出力 => [2, 4]
```
- 条件関数は真偽値を返し、真の要素だけが残る。

## 応用パターン
### 破壊的フィルター
```pseudo
index = 0
while index < リスト.長さ:
    もし 条件を満たさない なら:
        リスト.削除(index)
    else:
        index += 1
```
- 新しいメモリ割当を避けられるが、元の順序を変えないよう注意。

### 複合条件
```pseudo
出力 = フィルター(入力,
    条件: 無名関数(値):
        return 値.状態 == "公開" かつ 値.タグに("featured") を含む)
```
- 条件を関数にまとめると再利用しやすい。

## 注意点
1. **安定性**: フィルター自体は順序を維持するが、破壊的操作でインデックスを進め忘れると要素が飛ばされる。
2. **副作用**: 条件関数で重い処理や I/O を行うと性能に影響する。必要なら事前にデータを準備する。
3. **大規模データ**: 結果リストのメモリ確保が負担になる。ストリーミングフィルターで逐次処理する方法もある。

## 関連トピック
- `abstract/list/index.md`: 基本リスト操作
- `abstract/list-map/index.md`: 変換
- `abstract/list-traversal/index.md`: 走査
