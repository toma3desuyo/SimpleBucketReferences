---
title: 文字列の結合
description: 複数の文字列を一つにまとめる操作
---

## 概要
文字列連結は複数の文字列を順に結び付けて単一の文字列にする。`+`、`concat`、テンプレートなどさまざまな構文がある。

## 手段
- **演算子**: `"a" + "b"` のように直感的だが、多数の結合で非効率になることがある。
- **ビルダー**: 可変バッファに append し、最後に文字列化する。
- **テンプレート**: プレースホルダーに値を埋め込む。

## 基本例
```pseudo
メッセージ = "Hello, " + 名前 + "!"
```

## 応用パターン
### 文字列ビルダー
```pseudo
builder = 新しいビルダー()
for 行 in 行一覧:
    builder.append(行)
    builder.append("\n")
結果 = builder.toString()
```
- 大量連結を効率化する。容量を予測して初期化すると再割り当てが減る。

### テンプレート
```pseudo
メッセージ = テンプレート("{name} さんは {count} 件")
結果 = メッセージ.埋め込み({ name: 名前, count: 件数 })
```
- 変数名で置換するため可読性が高く、多言語対応もしやすい。

## 注意点
1. **エンコーディング**: 異なるエンコーディングの文字列を連結すると文字化けする。統一しておく。
2. **セキュリティ**: ユーザー入力をそのまま連結するとインジェクションが起きる。エスケープを行う。
3. **性能**: ループ内で `+` を繰り返すと時間がかかる。ビルダーや配列 join を使う。

## 関連トピック
- `abstract/list-join/index.md`: 配列の結合
- `abstract/string-interpolation/index.md`: テンプレート
- `abstract/string-type/index.md`: 文字列型
