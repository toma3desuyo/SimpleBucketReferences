---
title: 条件分岐
description: 条件に応じて異なる経路を実行する制御構造
---

## 概要
条件分岐は真偽値の評価結果に応じて実行経路を切り替える構造である。`if`/`else`、`switch`、パターンマッチなどの構文で提供され、ビジネスルールや例外的ケースを制御する。

## 主な構文
- **単純 if**: 最も基本的な形式。条件が真なら本体を実行する。
- **if-else 連鎖**: 複数条件を優先順位付きに評価。
- **多岐分岐**: 値に応じて複数ケースへ分ける。フォールスルーの挙動を仕様で確認する。

## 基本例
```pseudo
もし 注文数 == 0 なら:
    表示("入力が必要")
そうでなければ もし 注文数 > 100 なら:
    割引率 = 0.2
そうでなければ:
    割引率 = 0.05
```
- 優先順位の高い条件から順に評価し、最初に一致したブロックだけが実行される。

## 応用パターン
### ガード節
```pseudo
関数 決済(注文):
    もし 注文 が null なら return エラー
    もし 注文.金額 <= 0 なら return エラー
    残りの処理...
```
- 条件を先頭で早期に判定して本流のネストを浅くする。

### パターンマッチ
```pseudo
結果 = マッチ(入力):
    ケース { 種類: "成功", 値: V } => 処理(V)
    ケース { 種類: "失敗", 理由: R } => ログ(R)
```
- データ構造の形に応じて分岐する。型の網羅性チェックがある言語では漏れを検出できる。

## 注意点
1. **条件の重複**: 複数の if で同じ条件を繰り返すと保守が難しい。関数化やルールテーブル化を検討する。
2. **副作用の発生順**: 評価途中で副作用が発生する式は順序を明確にする。
3. **ネスト過多**: 多段ネストは可読性を損なう。早期リターンやスイッチ分岐に置き換える。

## 関連トピック
- `abstract/boolean-type/index.md`: 真偽値
- `abstract/logical-not/index.md`: 論理演算
- `abstract/iteration/index.md`: 制御構造の比較
