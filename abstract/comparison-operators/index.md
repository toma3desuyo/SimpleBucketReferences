---
title: 比較演算子
description: 値同士の大小・等価を判定する演算子の使い方
---

## 概要
比較演算子は 2 つの値の関係を調べ、真偽値として結果を返す。順序比較（<, <=, >, >=）と等価比較（==, !=）を組み合わせて条件分岐やソートの基準を表現する。

## 特徴
- **全順序と半順序**: すべての値に順序が定義されるとは限らない。NaN のように比較不可能な値の扱いを決める。
- **型の組合せ**: 異なる型を比較したときの暗黙変換や例外を仕様で定義する。
- **厳密比較**: 参照の同一性と値の等価を分けて扱う構文を用意する言語もある。

## 基本例
```pseudo
もし 温度 >= 30 なら:
    表示("暑い")

もし ID == 入力ID かつ バージョン != null なら:
    更新する
```
- 比較式は条件式に組み込み、複合条件では論理演算子と組み合わせる。

## 応用パターン
### ソート用比較関数
```pseudo
関数 昇順(左, 右):
    もし 左 < 右 なら return -1
    もし 左 > 右 なら return 1
    return 0
```
- ソートアルゴリズムに渡す比較関数では、順序と安定性を意識する。

### カスタム等価
```pseudo
関数 同一ユーザーか(A, B):
    return A.id == B.id かつ A.削除済み == 偽
```
- ドメイン固有の等価条件を関数でラップし、再利用する。

## 注意点
1. **浮動小数点比較**: 直接比較すると誤差で一致しない。許容誤差 `epsilon` を用いた比較を行う。
2. **ロケール依存**: 文字列比較はロケールによって順序が異なる。辞書順が必要か自然順かを明確にする。
3. **参照比較と値比較の混同**: オブジェクトの同一性と内容の等価を使い分ける。浅い比較・深い比較のコスト差にも注意。

## 関連トピック
- `abstract/equality-operators/index.md`: 等価演算の詳細
- `abstract/boolean-type/index.md`: 真偽値の扱い
- `abstract/list-sorting/index.md`: ソート処理
