---
title: 反復フロー制御
description: ループ内で流れを変える break・continue・再試行
---

## 概要
反復制御はループ内で処理の流れを調整する仕組みで、`break`、`continue`、`return` などを用いて早期終了やスキップを実現する。複雑なループでの可読性を保つ手段となる。

## 制御手段
- **break**: ループを途中で抜ける。検索や閾値判定で使用する。
- **continue**: 現在の反復を終了し、次の反復へ進む。特定条件のときだけ処理をスキップする。
- **ラベル付き制御**: 多重ループから特定のレベルを抜けるための仕組み（対応言語のみ）。

## 基本例
```pseudo
for 要素 in データ:
    もし 要素 が 無効 なら continue
    処理結果 = 計算(要素)
    もし 処理結果 が 目標 を超えた なら:
        break
```
- `continue` で無効データを飛ばし、`break` で早期終了している。

## 応用パターン
### 再試行ループ
```pseudo
for 試行 = 1 から 3:
    もし 実行() が 成功 なら return 成功
return 失敗
```
- 決まった回数だけリトライし、成功すれば早期に抜ける。

### ラベルで親ループを抜ける
```pseudo
ラベル 外側:
for 行 in 行列:
    for 列 in 行:
        もし 列 == 目標 なら:
            見つかった = (行, 列)
            break 外側
```
- ネストが深い場合に便利だが、乱用すると読みづらい。

## 注意点
1. **複雑な制御**: 多数の break/continue があると理解が難しい。関数抽出やストリーム API への置換も検討する。
2. **リソース解放**: break で抜ける際に必要な後処理が漏れないよう、ループ後や `finally` で解放する。
3. **条件の重複**: 同じ条件で何度も continue するなら、早期にフィルタリングした方が明瞭。

## 関連トピック
- `abstract/iteration/index.md`: 反復処理
- `abstract/list-traversal/index.md`: リストの走査
- `abstract/exception-handling/index.md`: 例外を使った制御
