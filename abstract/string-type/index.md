---
title: 文字列型
description: テキストデータを表現する不変または可変の型
---

## 概要
文字列型はテキストデータを保持するデータ型であり、国際化やバイナリとの変換を考慮した設計が必要。多くの言語では不変（immutable）として実装される。

## 特徴
- **エンコーディング**: UTF-8、UTF-16、ASCII など。内部表現と外部表現を区別する。
- **不変性**: 変更が必要な場合は新しい文字列を生成する。可変文字列型が別途提供されることもある。
- **インデックス**: 文字単位とバイト単位が一致しない場合がある。コードポイント単位でアクセスできる API を提供する。

## 基本操作
```pseudo
文字列 = "Hello"
長さ = 文字列.長さ()
部分 = 文字列.スライス(0, 2)
```
- 大文字小文字変換、トリム、検索などのユーティリティを備える。

## 応用パターン
### 国際化
```pseudo
文字列 = 正規化(NFC, 入力)
```
- 合成文字の組み合わせを正規化して比較を安定させる。

### バイナリとの変換
```pseudo
バイト列 = エンコード(文字列, "UTF-8")
再構築 = デコード(バイト列, "UTF-8")
```
- ネットワークやファイルとのやり取りでは明示的にエンコードを指定する。

## 注意点
1. **サロゲートペア**: UTF-16 ではサロゲートペアを考慮しないと文字が分割される。コードポイント API を使用する。
2. **大文字小文字**: ロケールにより変換結果が異なる（例: トルコ語の i）。国際化対応時は注意する。
3. **正規化**: Unicode には同じ見た目で異なるコードポイントの表現がある。比較やソート前に正規化する。

## 関連トピック
- `abstract/string-concatenation/index.md`: 連結
- `abstract/string-interpolation/index.md`: 補間
- `abstract/regular-expression/index.md`: パターン処理
