---
title: リストのソート
description: 要素を基準に従って並べ替える手法
---

## 概要
ソートはリストの要素を特定の順序で並べ替える操作である。昇順・降順やカスタム比較、安定性などを要件に合わせて選定する。

## アルゴリズム
- **比較ソート**: クイックソート、マージソート、ヒープソートなど。O(n log n)。
- **非比較ソート**: 計数ソート、基数ソート。キーの範囲が限定される場合に線形時間で動作。
- **安定性**: 同じキーの相対順序を保持するかどうかを明示する。

## 基本例
```pseudo
成績 = ソート(得点一覧, 比較: 無名関数(a, b): a.得点 - b.得点)
```
- 比較関数で順序を定義し、カラムに応じて切り替える。

## 応用パターン
### 多段ソート
```pseudo
比較 = 連結比較([
    比較器("部署"),
    比較器("役職"),
    比較器("氏名")
])
結果 = ソート(社員一覧, 比較)
```
- 優先順位付きカラムで並べ替える。安定性が必要。

### インプレース vs 非破壊
```pseudo
新リスト = ソート(元リスト, 破壊的: 偽)
```
- 元の順序を保持したい場合はコピーを作成する。

## 注意点
1. **比較のコスト**: 高価な比較を繰り返すと遅くなる。キー抽出後に比較する「装飾-ソート-整飾」パターンを使う。
2. **国際化**: 文字列の順序はロケールに依存。コレーションルールを指定する。
3. **部分ソート**: 上位 N 件のみ必要ならヒープや選択アルゴリズムを使いコストを下げる。

## 関連トピック
- `abstract/comparison-operators/index.md`: 比較演算
- `abstract/list-filter/index.md`: 前処理
- `abstract/list-slicing/index.md`: ソート結果の部分利用
