---
title: プロパティの定義
description: オブジェクトの属性を公開・制御する方法
---

## 概要
プロパティ定義は、オブジェクトのフィールドや計算値を公開する手段であり、ゲッター/セッターや属性宣言を通じて制御される。データ整合性と API の明快さを両立させる。

## 構成
- **バックフィールド**: 実際の値を保持する内部変数。
- **アクセサー**: ゲッター/セッターでアクセスを仲介し、検証や副作用を挟む。
- **属性メタデータ**: 読み取り専用、遅延計算、デフォルト値などの設定。

## 基本例
```pseudo
クラス 設定:
    private _テーマ

    プロパティ テーマ:
        get: return _テーマ
        set(値):
            もし 値 が 許可済み でないなら 例外
            _テーマ = 値
```
- セッターで検証し、不正な値の代入を防いでいる。

## 応用パターン
### 計算プロパティ
```pseudo
プロパティ フルネーム:
    get: return 姓 + " " + 名
```
- バックフィールドを持たずに計算で提供する。キャッシュが必要ならフィールドを追加する。

### 監視付きプロパティ
```pseudo
set(値):
    もし 値 != _テーマ なら:
        _テーマ = 値
        観測者へ通知()
```
- 値が変わったときだけイベントを発行し、依存するコンポーネントを更新する。

## 注意点
1. **再帰代入**: セッター内部で同じプロパティに代入すると無限ループになる。バックフィールドを直接操作する。
2. **性能**: 軽量に見えるが実際はメソッド呼び出し。ホットパスでは直接フィールドを使うことも検討する。
3. **シリアライズ**: 計算プロパティをシリアライズに含めるかどうか仕様で決める。

## 関連トピック
- `abstract/encapsulation/index.md`: 状態の隠蔽
- `abstract/class/index.md`: クラスの定義
- `abstract/static-members/index.md`: 静的プロパティ
