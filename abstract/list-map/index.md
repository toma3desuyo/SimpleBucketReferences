---
title: リストの一括変換
description: 各要素を変換して新しいリストを作る操作
---

## 概要
リストのマップは、入力リストの各要素に関数を適用し、対応する位置に結果を格納した新しいリストを返す。データ変換やビュー生成で頻繁に使われる。

## 基本例
```pseudo
入力 = [1, 2, 3]
出力 = マップ(入力, 無名関数(値): 値 * 2)
# => [2, 4, 6]
```
- 入力リストと同じ長さの結果が得られる。

## 応用パターン
### インデックス利用
```pseudo
出力 = マップ(入力,
    無名関数(値, index): "%d番目:%s" % (index, 値))
```
- 関数にインデックスを渡して位置情報を利用する。

### 非同期マップ
```pseudo
タスク = マップ(URL一覧, 無名関数(url): 非同期取得(url))
結果 = すべて完了(タスク)
```
- 非同期処理と組み合わせる際は並列数の上限を設ける。

## 注意点
1. **副作用を抑える**: マップは純粋変換として期待されることが多い。外部状態の変更を避ける。
2. **エラーハンドリング**: 変換関数が例外を投げた場合の扱いを決める。部分的な失敗を許容するなら結果とエラーの両方を返す。
3. **メモリ使用量**: 大規模リストで新しい配列を作るとメモリが増加する。ジェネレーターや遅延評価を活用する。

## 関連トピック
- `abstract/list-filter/index.md`: 抽出
- `abstract/list-traversal/index.md`: 走査
- `abstract/list-single-search/index.md`: 特定要素探索
