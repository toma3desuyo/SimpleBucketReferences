---
title: 文字列の探索
description: 部分文字列やパターンを探し出す手法
---

## 概要
文字列検索は、文字列中から特定の部分文字列やパターンを見つけ出す処理である。単純検索から高度なアルゴリズムまで多様。

## アプローチ
- **単純逐次検索**: 1 文字ずつチェック。小規模データ向け。
- **Knuth-Morris-Pratt (KMP)**: 失敗表を使って O(n) で検索する。
- **Boyer-Moore**: 後方から比較しスキップ量を増やす。
- **正規表現**: パターンマッチナーで柔軟に検索。

## 基本例
```pseudo
index = 検索(文字列: "hello world", 部分: "world")
もし index != -1 なら 見つかった位置を利用
```

## 応用パターン
### すべての一致
```pseudo
位置一覧 = []
開始 = 0
while (index = 検索(入力, 部分, 開始位置 = 開始)) != -1:
    位置一覧.push(index)
    開始 = index + 部分.長さ
```
- 全一致を列挙するループ。重なりを許す場合は開始位置を `index + 1` にする。

### インデックス作成
```pseudo
インデックス = サフィックス配列(テキスト)
位置 = インデックス.検索(パターン)
```
- 巨大なテキストで高速検索するために事前にデータ構造を構築する。

## 注意点
1. **エンコーディング**: UTF-8 のような可変長エンコーディングではバイト単位と文字単位の差を意識する。
2. **大文字小文字**: ケースセンシティブかどうかを指定する。ロケールに応じた比較が必要な場合がある。
3. **複雑なパターン**: 正規表現のバックトラッキングによる性能低下に注意し、必要ならオートマトンを使う。

## 関連トピック
- `abstract/regular-expression/index.md`: パターンマッチ
- `abstract/string-replacement/index.md`: 見つけた結果の置換
- `abstract/string-splitting/index.md`: 区切りで分割
